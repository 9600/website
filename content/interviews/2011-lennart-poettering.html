---
year: 2011
person: Lennart Poettering
slug: lennart_poettering
---
<p>Lennart Poettering will give a talk about <em>"Systemd: beyond init"</em> at FOSDEM 2011.</p>
<p>Q: Could you briefly introduce yourself?</p>
<p>I am Lennart Poettering, I work for Red Hat, as part of the desktop group. I wrote most of <a href="http://avahi.org/">Avahi</a> and <a href="http://www.pulseaudio.org/">PulseAudio</a>, among other stuff. Right now I am focusing on <a href="http://freedesktop.org/wiki/Software/systemd">systemd</a> which I created together with Kay Sievers from SUSE. Systemd is a new system and service manager for Linux which is currently being adopted as init system by most major distributions.</p>
<p>Q: What will your talk be about, exactly?</p>
<p>Well, systemd! The exact contents of my talk depends on what the audience wants to hear. ;-)</p>
<p>Systemd touches a lot of things and since it manages the entire runtime behaviour of the Linux userspace there's enough stuff to talk about to fill many hours. At FOSDEM we can only cover a subset of it.</p>
<p>I guess I'll start my presentation with talking about the basic design ideas of systemd, and its feature set, comparing it with other options. Depending on the wishes of the audience we could focus on a few
specific areas in more detail. For example, if the audience wants to hear about the Linux <a href="http://www.kernel.org/doc/Documentation/cgroups/cgroups.txt">cgroup</a> magic that is built into systemd we can focus on that. Or if folks are particularly keen on talking about systemd from an administrator's point of view then I'd happy to go into detail about that. And there is a lot more we could talk about. My hope is to make this a truly interactive talk where the audience takes an active role and we can have a good conversation.</p>
<p>Q: What do you hope to accomplish by giving this talk? What do you expect?</p>
<p>My hope is to interest people in systemd, and explain what makes systemd great software (in my biased opinion at least ;-)), what the technical reasons for it are, and why most big distributions are adopting it. Besides this kind of systemd advocacy the biggest thing I hope to achieve is getting feedback from the community on systemd.</p>
<p>Q: What where your reasons to start with systemd?</p>
<p>When Kay and I started to work on systemd we had for quite some time been interested in the init system situation. And we found that unfortunately the options back then were disappointing. Most distributions were still relying on sysvinit as init system whose basic design was only minimally different from what Unix offered decades ago, although the Linux kernel (and the platform beyond that) offered so many improvements since then. The amount of missed opportunities of the Linux init systems was massive. On the other hand we looked at the boot and service management tools that other operating systems offered, in particular Mac OS and Solaris. They were dramatically better at parallelizing boot up, or with their management interfaces.</p>
<p>On Linux, the only real alternative to sysvinit back then was Upstart, whose basic design in our opinion was all backwards and maximized the work necessary to boot instead of minimizing it (among other design problems we saw). Also, while it definitely was an improvement over sysvinit it was still missing most opportunities that Linux offered. These three factors together (i.e. missed opportunities, much nicer boot/service managers on competing OSes, and the misdesign of Upstart) led us eventually to create our own init system from scratch, implementing everything we always dreamt of in an init system, without the design problems we saw in existing solutions and taking maximum advantage of what the modern Linux kernel offers today. And given the very positive feedback we got so far we created something that is appealing to quite a number of people.</p>
<p>Q: Which Linux-specific functionality does systemd use and what's the advantage of this over a solution that is portable to other operating systems?</p>
<p>There's quite a bit of Linux-specific functionality we rely on. The first that comes to mind is probably cgroups (short for "Control Groups") which is a Linux kernel feature that may be used to create hierarchical groups of processes, label them, and optionally apply resource limits or other rules to them. But there's a lot more. Systemd tightly integrates with the Linux-specific <a href="http://www.kernel.org/pub/linux/utils/kernel/hotplug/udev.html">udev</a> system for hot-plug events. And then, the disk read-ahead solution we include in systemd uses the Linux-specific fanotify() call. Or we support spawning processes in their own file system namespaces or with limited capability sets, both of which are Linux specific features. Or we support the Linux-specific automounter and other mount APIs such as polling mount changes via /proc/self/mountinfo which do not exist on other OSes. Internally we use a lot of newer API calls, such as timerfd() or signalfd() which are not available outside of Linux. These latter calls could be emulated on other OSes, but using them greatly simplifies our own code. And many of the other Linux features we use have no suitable counterparts on other Unixes at all.</p>
<p>Not having to care about portability has two big advantages: we can make maximum use of what the modern Linux kernel offers these days without headaches -- Linux is one of the most powerful kernels in existence, but many of its features have not been used by the previous solutions. And secondly, it greatly simplifies our code and makes it shorter: since we never need to abstract OS interfaces the amount of glue code is
minimal, and hence what we gain is a smaller chance to create bugs, a smaller chance of confusing the reader of the code (hence better maintainability) and a smaller footprint.</p>
<p>Many of my previous projects (including PulseAudio and Avahi) have been written to be portable. Being relieved from the chains that the requirement for portability puts on you is quite liberating. While ensuring portability when working on high-level applications is not necessarily a difficult job it becomes increasingly more difficult if the stuff you work on is a system component (which systemd, PulseAudio and Avahi are).</p>
<p>In fact, the way I see things the Linux API has been taking the role of the POSIX API and Linux is the focal point of all Free Software development. Due to that I can only recommend developers to try to hack
with only Linux in mind and experience the freedom and the opportunities this offers you. So, get yourself a copy of <a href="http://man7.org/tlpi/">The Linux Programming Interface</a>, ignore everything it says about POSIX compatibility and hack away your amazing Linux software. It's quite relieving!</p>
<p>Q: What's the unique selling point of systemd?</p>
<p>There's not just one, there are really a lot.</p>
<p>Since I can't list them all here, I'll just mention a single really simple one. One that probably surprises many readers:</p>
<blockquote style="display: block; margin: 0 0 1.12em 0; margin-left: 40px; margin-right: 40px;">Systemd is the first Linux init system which allows you to properly kill a service.</blockquote>
<p>Surprised by this statement? Rightly so, but it is true. Properly killing a daemon on Linux is really hard and without systemd actually almost impossible to do correctly. (No, a simple "killall httpd" is due to many reasons unsuitable to kill Apache) If you want to know why I say that and what systemd does differently here, then make sure to attend my talk and ask me about it!</p>
<p>Q: How many developers are currently working on systemd?</p>
<a href="http://www.ohloh.net/p/systemd/contributors">according to Ohloh</a>
<p>Q: After creating Avahi, PulseAudio and systemd, what is the next big thing you want to work on?</p>
<p>With systemd we still have big plans, and it will take some time before we can say that it is reasonably finished and does everything we want it to do. One of the bigger things that we have been working on is
extending systemd so that it is useful to replace/extend gnome-session and similar session managers. Session and system management are actually very similar problems and other operating systems have shown that is a good idea to handle both with the same code.</p>
<p>But to be honest I don't really like speaking too much about my grand plans for the definitely awesome future. While I do have plans like that, I prefer making them reality and delivering them instead of just
talking about them and making big announcements.</p>
<p>Q: Have you enjoyed previous FOSDEM editions?</p>
<p>Yes, this will be my fourth FOSDEM, but the first FOSDEM where I'll speak. FOSDEM is a fantastic conference and has a clearly unique atmosphere. I am really looking forward to it!</p>
